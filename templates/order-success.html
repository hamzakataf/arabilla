{% load static %}
<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ - Arabella</title>
  <link rel="stylesheet" href="{% static 'css/styles.css' %}" />
</head>
<body>
  <div class="stage">
    <main class="app-shell">

      <header class="app-topbar">
        <a class="icon-btn" href="{% url 'home' %}" aria-label="Ø±Ø¬ÙˆØ¹ Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©">ğŸ </a>
        <div class="top-title">ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨</div>
        <a class="btn btn-accent" href="{% url 'order-status' order.id %}" style="width:100%">ØªØªØ¨Ù‘Ø¹ Ø§Ù„Ø·Ù„Ø¨</a>



      </header>

      <section class="container">
        <div class="success-wrap">
          <div class="success-icon" aria-hidden="true">âœ“</div>

          <h1 class="success-title">Ø·Ù„Ø¨Ùƒ Ø§Ù†Ø±Ø³Ù„ Ø¨Ù†Ø¬Ø§Ø­</h1>
          <p class="success-sub text-muted">
            Ø±Ø­ ÙŠØ¨Ù„Ù‘Ø´ Ø§Ù„ØªØ­Ø¶ÙŠØ± ÙÙˆØ±Ø§Ù‹. ÙÙŠÙƒ ØªØªØ§Ø¨Ø¹ Ø§Ù„Ø­Ø§Ù„Ø© Ù…Ù† Ø²Ø± â€œØªØªØ¨Ù‘Ø¹ Ø§Ù„Ø·Ù„Ø¨â€.
          </p>

          <div class="success-meta">
            <div class="meta-row">
              <span class="meta-k">Ø±Ù‚Ù… Ø§Ù„Ø·Ø§ÙˆÙ„Ø©</span>
              <strong class="meta-v" id="tableNo">â€”</strong>
            </div>
            <div class="meta-row">
              <span class="meta-k">Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨</span>
              <strong class="meta-v" id="orderId">AR-0001</strong>
            </div>
            <div class="meta-row">
              <span class="meta-k">ÙˆÙ‚Øª Ø§Ù„Ø¥Ø±Ø³Ø§Ù„</span>
              <strong class="meta-v" id="sentAt">Ø§Ù„Ø¢Ù†</strong>
            </div>
          </div>

          <div class="col-actions mt-16">
            <a class="btn btn-accent" href="{% url 'order-status' order.id %}" style="width:100%">ØªØªØ¨Ù‘Ø¹ Ø§Ù„Ø·Ù„Ø¨</a>


            
            <a class="btn btn-accent-outline" href="{% url 'home' %}"  style="width:100%">Ø±Ø¬ÙˆØ¹ Ù„Ù„Ù…Ù†ÙŠÙˆ</a>
          </div>

          <div class="small text-muted mt-12">
            Ù…Ù„Ø§Ø­Ø¸Ø©: Ø¥Ø°Ø§ Ø¨Ø¯Ùƒ ØªØ¹Ø¯Ù‘Ù„ Ø§Ù„Ø·Ù„Ø¨ØŒ Ø¨Ù„Øº Ø§Ù„ÙƒØ§Ø´ÙŠØ± Ø£Ùˆ Ø§Ù†ØªØ¸Ø± Ø§Ù„Ø·Ù„Ø¨ Ø§Ù„Ù‚Ø§Ø¯Ù….
          </div>
        </div>
      </section>

    </main>
  </div>

  <script>
    // ÙˆØ§Ø¬Ù‡Ø© ÙÙ‚Ø·: Ù„Ø§Ø­Ù‚Ø§Ù‹ Ø±Ø­ ÙŠØ¬ÙŠ orderId Ù…Ù† Ø§Ù„Ø³ÙŠØ±ÙØ±
    const table = localStorage.getItem('ar_table') || new URLSearchParams(location.search).get('table') || 'â€”';
    document.getElementById('tableNo').textContent = table;

    // ØªÙˆÙ„ÙŠØ¯ Ø±Ù‚Ù… Ø·Ù„Ø¨ ÙˆÙ‡Ù…ÙŠ Ù„Ù„Ø¹Ø±Ø¶ Ø¥Ù† Ù„Ù… ÙŠÙˆØ¬Ø¯
    const existingOrder = localStorage.getItem('ar_last_order_id');
    const orderId = existingOrder || ('AR-' + String(Math.floor(1000 + Math.random()*9000)));
    localStorage.setItem('ar_last_order_id', orderId);
    document.getElementById('orderId').textContent = orderId;

    const now = new Date();
    document.getElementById('sentAt').textContent = now.toLocaleTimeString('ar', { hour: '2-digit', minute: '2-digit' });
  </script>
</body>
</html>
